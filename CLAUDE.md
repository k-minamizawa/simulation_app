
# 前提
私は、展示会にてデジタルツインのデモ実施を目指してしております。
工場シミュレーションFlexSimとWebアプリ、カメラとARマーカを組み合わせた構成です。
鉄道車両のような大型ワークの工程を想定しています。
詳細は`reference\展示企画`の画像を参照してください。

# ルール
- 勝手なコーディングは禁止します。
- ドキュメント・コード作成時には、解説した上で承認の伺いを立ててから進めること
- 私は、バックエンドには多少慣れていますが、フロントエンド（特にreact,
next.js）の学習歴が浅いです。学びを深めるために、私の理解とともにステップbyステップで進めて下さい。

# 進め方（イメージ）
FlexSimのモデル上で動作を確認し、グローバルテーブルの定義が固まり次第、
Next.jsやFastAPIとの連携を構築していきます。
まずは2025年9月中にミニマムモデルでのデジタルツインモックを完成させます。
ミニマムモデルのイメージについては、下記`ミニマムモデルのイメージ`を参照とのこと。

# ミニマムモデルのイメージ
- モデルの処理フローはなるべく標準化したものを目指します。
- 各種グローバルテーブルから情報の読み出しを行い、標準化された処理フローでモデルを動かします。
- 20250917時点のグローバルテーブルは、`reference\FlexSimのグローバルテーブル(20250918時点)`を参照ください。
- 工程は、3つのタクトが直列に接続されたものをイメージしています。
- 工程進捗のテーブルから読み出し、ワークをタクトに配置します。
- タクトにワークが置かれた際、そのタクトに紐づいたタスクを生成（タスクリストに格納）します。
- 作業者はタスクリストからタスクを取り出します。
- タスクは主作業と次のタクトへの運搬の2種類があります。
- タスクの取り出し方は、`evaluation_value`が高いものから順に選んでいきます。
- `evaluation_value`の付け方は、この時点ではできる(=1)/できない(=0)ののみとします。
　1/0の判断は、タスクの依存関係で判断します。特に次のタクトへの運搬タスクの場合は、次のタクトの空き状況も見てから運搬を行います。
- タスクは並列接続・直接接続混ざったものを想定していますが、ひとまずは直列接続で実装していきます。




